webpackJsonp([0],{"2NXm":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Xxa5"),a=n.n(i),r=n("exGp"),o=n.n(r),u=n("Dd8w"),l=n.n(u),s=function(e){return e>=10?e:"0"+e},d=function(e){return new Date((new Date).getTime()-864e5*e)},f=function(e,t){return new Date(new Date((new Date).setMonth((new Date).getMonth()-e)).setDate(t))},c=(new Date).getFullYear().toString(),h=(new Date).getMonth().toString();function m(){var e=0;return h<3&&(e=0),2<h&&h<6&&(e=3),5<h&&h<9&&(e=6),h>8&&(e=9),e}var g,b,p=new Date(c,m()-3,1),w=m()-3+2,D=new Date(c,w,(g=w,b=new Date(c,g,1),(new Date(c,g+1,1)-b)/864e5)),v=d(0),F=d(1),x=d(2),y=d(7),S=d(30),M=d(-1),k=d(-2),T=d(-7),W=d(-30),_=f(0,(new Date).getDate()-((new Date).getDay()||7)-6),L=f(0,(new Date).getDate()-((new Date).getDay()||7)+1),j=f(0,(new Date).getDate()-((new Date).getDay()||7)+8),C=f(0,(new Date).getDate()-((new Date).getDay()||7)),q=f(0,(new Date).getDate()-((new Date).getDay()||7)+7),z=f(0,(new Date).getDate()-((new Date).getDay()||7)+14),H=f(6,1),V=f(3,1),Q=f(2,1),Y=f(1,1),$=f(0,1),E=f(-1,1),A=f(5,0),B=f(2,0),J=f(1,0),N=f(0,0),O=f(-1,0),P=f(-2,0),X={timeFun:function(e){var t=e.date,n=void 0===t?new Date:t,i=e.ymr,a=void 0!==i&&i,r=e.time,o=void 0!==r&&r,u=e.timeSign,l=void 0!==u&&u,d=e.allTime,f=void 0!==d&&d,c=e.allTimeSign,h=void 0!==c&&c,m=e.allTimeSigns,g=void 0!==m&&m,b=e.allTimeWeek,p=void 0!==b&&b,w=e.allTimeWeeks,D=void 0!==w&&w,v=e.dateSigns,F=void 0===v?"-":v,x=e.dateSignsa,y=void 0===x?"/":x,S=e.timeSigns,M=void 0===S?":":S,k=(e.timeFormat,e.ymrSign),T=void 0!==k&&k,W=e.ymrSigna,_=void 0!==W&&W,L=e.ymrSigns,j=void 0===L||L,C=n.getFullYear().toString(),q=n.getDay(),z=s(n.getMonth()+1),H=s(n.getDate()).toString(),V=s(n.getHours()).toString(),Q=s(n.getMinutes()).toString(),Y=s(n.getSeconds()).toString(),$=C+z+H,E=V+Q+Y,A=C+F+z+F+H,B=C+F+z,J=C+y+z+y+H,N=V+M+Q+M+Y;return a?$:o?E:l?N:f?$+E:h?A+" "+N:g?J+" "+N:p?A+" "+N+" "+this.weekStr(q):D?J+" "+N+" "+this.weekStr(q):T?A:_?B:j?J:void 0},beforeQuarterFirst:function(e){return this.timeFun(l()({date:p},e))},beforeQuarterLast:function(e){return this.timeFun(l()({date:D},e))},beforeQuarter:function(e){return this.beforeQuarterFirst(e)+"/"+this.beforeQuarterLast(e)},beforeMonthFirst:function(e){return this.timeFun(l()({date:Y},e))},beforeMonthLast:function(e){return this.timeFun(l()({date:N},e))},beforeMonth:function(e){return this.beforeMonthFirst(e)+"/"+this.beforeMonthLast(e)},beforeWeekFirst:function(e){return this.timeFun(l()({date:_},e))},beforeWeekLast:function(e){return this.timeFun(l()({date:C},e))},beforWeek:function(e){return this.beforeWeekFirst(e)+"/"+this.beforeWeekLast(e)},thisWeekFirst:function(e){return this.timeFun(l()({date:L},e))},thisWeekLast:function(e){return this.timeFun(l()({date:q},e))},afterWeekFirst:function(e){return this.timeFun(l()({date:j},e))},afterWeekLast:function(e){return this.timeFun(l()({date:z},e))},beforeHalfYearFirst:function(e){return this.timeFun(l()({date:H},e))},beforeThirdMonthFirst:function(e){return this.timeFun(l()({date:V},e))},beforeTwoMonthFirst:function(e){return this.timeFun(l()({date:Q},e))},thisMonthFirst:function(e){return this.timeFun(l()({date:$},e))},afterMonthFirst:function(e){return this.timeFun(l()({date:E},e))},beforeHalfYearLast:function(e){return this.timeFun(l()({date:A},e))},beforeThirdMonthLast:function(e){return this.timeFun(l()({date:B},e))},beforeTwoMonthLast:function(e){return this.timeFun(l()({date:J},e))},thisMonthLast:function(e){return this.timeFun(l()({date:O},e))},afterMonthLast:function(e){return this.timeFun(l()({date:P},e))},tomorrow:function(e){return this.timeFun(l()({date:M},e))},afterTomorrow:function(e){return this.timeFun(l()({date:k},e))},afterSeven:function(e){return this.timeFun(l()({date:T},e))},afterThirty:function(e){return this.timeFun(l()({date:W},e))},today:function(e){return this.timeFun(l()({date:v},e))},yesterday:function(e){return this.timeFun(l()({date:F},e))},beforeYesterday:function(e){return this.timeFun(l()({date:x},e))},beforeSeven:function(e){return this.timeFun(l()({date:y},e))},beforeThirty:function(e){return this.timeFun(l()({date:S},e))},weekStr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"星期";return 0===e&&(e=t+"日"),1===e&&(e=t+"一"),2===e&&(e=t+"二"),3===e&&(e=t+"三"),4===e&&(e=t+"四"),5===e&&(e=t+"五"),6===e&&(e=t+"六"),e}},G={data:function(){return{height:"",cxValue:!0,fixed:{"生产日期":!1,"工单号":!1,"批号":!1,"产品型号":!1,"数量":!1,"状态":!1,"备注":!1,"交期":!1},time:X.today({ymrSign:!0}),form:{date1:X.today({ymrSign:!0})},tableData:[],wc:"WC05",name:"电装"}},created:function(){this.times=X.today({allTimeSign:!0}),this.height=document.documentElement.clientHeight-77,this.titles={a:{name:"应用程序",path:"/pages/index/index"},b:{name:"电装生产计划",path:"/index"}},this.$store.state.date&&(this.form.date1=this.$store.state.date),this.onSubmit()},methods:{opens:function(){this.onSubmit(this.form.date1)},changeHeaderStyle:function(e,t,n,i){return!0===e.column.fixed?"color: #1296DB":""},changeCellStyle:function(e,t,n,i){return!0===e.column.fixed?"color: #1296DB":""},click:function(e,t){0==e.fixed?this.fixed[e.label]=!0:this.fixed[e.label]=!1},onSubmit:function(e){var t=this;return o()(a.a.mark(function e(){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.tableData=[],n={wc:t.wc,date1:t.form.date1,date2:"",job:""},0==t.cxValue&&(n={wc:t.wc,date2:t.form.date1,date1:"",job:""}),e.t0=JSON,e.next=6,t.$api.api.get("/api/Plangetp",n);case 6:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1).Table,i.sort(function(e,t){return t.生产日期<e.生产日期?1:-1}).forEach(function(e,n){var i=null==e.完成数量?"":e.完成数量.replace(/\s+/g,""),a=e.生产日期.replace(/\s+/g,""),r=a.substring(2,a.length),o=e.交期.replace(/\s+/g,""),u=o.substring(2,o.length),l=null==e.审核人?"未审核":e.审核人.replace(/\s+/g,"");t.tableData.push({riqi:r,gongdan:e.工单号.replace(/\s+/g,""),pihao:e.生产批号.replace(/\s+/g,""),xinghao:e.产品型号.replace(/\s+/g,""),shuliang:e.数量.replace(/\s+/g,""),zhuangtai:e.状态.replace(/\s+/g,""),diandu:e.是否电镀.replace(/\s+/g,""),beizhu:e.备注.replace(/\s+/g,""),jiaoqi:u,wancheng:i,shenhe:l})});case 10:case"end":return e.stop()}},e,t)}))()},resetForm:function(e){var t=X.today({ymrSign:!0});this.form.date1=t}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header-bom",{attrs:{msg:e.titles}}),e._v(" "),n("el-form",{ref:"form",staticStyle:{display:"flex","justify-content":"left"},attrs:{model:e.form}},[n("el-form-item",{staticStyle:{width:"35%"}},[n("el-switch",{attrs:{"active-text":"生产日期","inactive-text":"交期"},on:{change:e.opens},model:{value:e.cxValue,callback:function(t){e.cxValue=t},expression:"cxValue"}})],1),e._v(" "),n("el-form-item",{staticStyle:{width:"33%"}},[n("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:e.time},on:{change:e.onSubmit},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1)],1),e._v(" "),n("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:e.height,"cell-style":e.changeCellStyle,"header-cell-style":e.changeHeaderStyle},on:{"header-click":e.click}},[n("el-table-column",{attrs:{prop:"riqi",fixed:e.fixed["生产日期"],label:"生产日期",width:this.util.flexColumnWidth("riqi",e.tableData)}}),e._v(" "),n("el-table-column",{attrs:{prop:"gongdan",fixed:e.fixed["工单号"],label:"工单号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"pihao",fixed:e.fixed["批号"],width:this.util.flexColumnWidth("pihao",e.tableData),label:"批号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"xinghao",fixed:e.fixed["产品型号"],width:this.util.flexColumnWidth("xinghao",e.tableData),label:"产品型号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"shuliang",fixed:e.fixed["数量"],label:"数量"}}),e._v(" "),n("el-table-column",{attrs:{prop:"wancheng",label:"完成数量"}}),e._v(" "),n("el-table-column",{attrs:{prop:"shenhe",label:"审核"}}),e._v(" "),n("el-table-column",{attrs:{prop:"jiaoqi",fixed:e.fixed["交期"],width:this.util.flexColumnWidth("jiaoqi",e.tableData),label:"交期"}}),e._v(" "),n("el-table-column",{attrs:{prop:"zhuangtai",fixed:e.fixed["状态"],label:"状态"}}),e._v(" "),n("el-table-column",{attrs:{prop:"beizhu",fixed:e.fixed["备注"],label:"备注"}})],1)],1)},staticRenderFns:[]};var U=n("VU/8")(G,R,!1,function(e){n("A5Mz")},null,null);t.default=U.exports},A5Mz:function(e,t){}});
//# sourceMappingURL=0.bc989268cc0861a94857.js.map